window.opayo=function(e){var r=e.processing,i=e.identifier,n=e.merchantKey;return{name:e.name,card:null,expiry:null,cvv:null,processing:r,identifier:i,merchantKey:n,errors:[],init:function(){window.addEventListener("opayo_threed_secure_response",(function(e){$wire.call("processThreed",{mdx:e.detail.mdx,md:e.detail.md,pares:e.detail.PaRes,cres:e.detail.cres})}))},handleSubmit:function(){var e=this;this.errors=[],this.processing=!0;var r=(new Date).getTimezoneOffset(),i="Large";window.outerWidth<400&&(i="Small"),window.outerWidth<800&&(i="Medium"),$wire.set("browser",{browserLanguage:navigator.language,challengeWindowSize:i,browserUserAgent:navigator.userAgent,browserJavaEnabled:navigator.javaEnabled(),browserColorDepth:window.screen.colorDepth,browserScreenHeight:window.outerHeight,browserScreenWidth:window.outerWidth,browserTZ:r}),sagepayOwnForm({merchantSessionKey:this.merchantKey}).tokeniseCardDetails({onTokenised:function(r){r.success?($wire.set("identifier",r.cardIdentifier),$wire.set("sessionKey",e.merchantKey),$wire.call("process")):(e.errors=r.errors,$wire.set("processing",!1))},cardDetails:{cardholderName:this.name,cardNumber:this.card,expiryDate:this.expiry,securityCode:this.cvv}})}}};